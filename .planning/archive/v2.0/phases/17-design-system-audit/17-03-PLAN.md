---
phase: 17-design-system-audit
plan: 03
type: execute
wave: 2
depends_on: ["17-01"]
files_modified:
  - medtriad/components/library/TriadCard.tsx
  - medtriad/components/library/SearchBar.tsx
  - medtriad/components/library/FilterChips.tsx
  - medtriad/components/quiz/FindingsCard.tsx
  - medtriad/components/quiz/AnswerCard.tsx
autonomous: true

must_haves:
  truths:
    - "TriadCard uses hard border treatment"
    - "Library components use design tokens instead of hardcoded values"
    - "Quiz components use design tokens instead of hardcoded values"
    - "Visual style is consistent across library and quiz screens"
  artifacts:
    - path: "medtriad/components/library/TriadCard.tsx"
      provides: "Hard border triad card"
      contains: "borderBottomWidth"
    - path: "medtriad/components/quiz/FindingsCard.tsx"
      provides: "Token-based findings card"
      contains: "Typography"
  key_links:
    - from: "TriadCard.tsx"
      to: "theme.ts"
      via: "Design token imports"
      pattern: "import.*Spacing|Radius|Typography"
---

<objective>
Align library and quiz components to design system

Purpose: Complete the design system audit by updating library browsing and quiz gameplay components to use design tokens consistently and apply hard border treatment where appropriate.

Output: TriadCard with hard borders. SearchBar, FilterChips, FindingsCard, and AnswerCard using design tokens throughout.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/17-design-system-audit/17-CONTEXT.md
@.planning/phases/17-design-system-audit/17-RESEARCH.md
@.planning/phases/17-design-system-audit/17-01-SUMMARY.md
@medtriad/constants/theme.ts
@medtriad/components/library/TriadCard.tsx
@medtriad/components/library/SearchBar.tsx
@medtriad/components/library/FilterChips.tsx
@medtriad/components/quiz/FindingsCard.tsx
@medtriad/components/quiz/AnswerCard.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Apply design tokens to library components</name>
  <files>medtriad/components/library/TriadCard.tsx, medtriad/components/library/SearchBar.tsx, medtriad/components/library/FilterChips.tsx</files>
  <action>
**TriadCard.tsx:**

1. Read the current implementation
2. Apply hard border treatment to the card container:
```typescript
card: {
  backgroundColor: colors.backgroundCard,
  borderWidth: 2,
  borderColor: colors.border,
  borderBottomWidth: 4,
  borderBottomColor: colors.borderStrong,
  borderRadius: Radius.lg,
  ...Shadows.light.sm,
  // Keep existing padding
}
```

3. Replace hardcoded values:
- `'#FEF08A'` highlight -> Keep as domain-specific (quiz highlight yellow)
- Any hardcoded fontSize -> Typography tokens
- Any hardcoded padding/gap -> Spacing tokens
- Any hardcoded borderRadius -> Radius tokens

**SearchBar.tsx:**

1. Read the current implementation
2. Replace hardcoded values:
- `height: 52` -> Keep as intentional input height OR use Spacing.xxl + Spacing.xs (48+4=52)
- `fontSize: 16` -> Use spread operator with Typography.body (fontSize: 18) or Typography.caption (fontSize: 15)
- Any hardcoded padding -> Spacing tokens
- Any hardcoded borderRadius -> Radius tokens

**FilterChips.tsx:**

1. Read the current implementation
2. CATEGORY_COLORS are domain-specific (category identification) - keep them
3. Replace other hardcoded values:
- `'#FFFFFF'` -> colors.textInverse or colors.backgroundCard
- `paddingHorizontal: 6` -> Spacing.xs (4) or Spacing.sm (8)
- `paddingVertical: 2` -> Keep as intentional tight padding
- `minWidth: 20` -> Keep as intentional minimum
- Any hardcoded fontSize -> Typography tokens
- Any hardcoded borderRadius -> Radius tokens
  </action>
  <verify>
Navigate to Library tab and confirm:
1. TriadCard has visible hard border (bottom border darker/thicker)
2. SearchBar displays correctly
3. FilterChips still show category colors correctly
  </verify>
  <done>Library components use design tokens and TriadCard has hard border treatment</done>
</task>

<task type="auto">
  <name>Task 2: Apply design tokens to quiz components</name>
  <files>medtriad/components/quiz/FindingsCard.tsx, medtriad/components/quiz/AnswerCard.tsx</files>
  <action>
**FindingsCard.tsx:**

1. Read the current implementation
2. Replace hardcoded values per RESEARCH.md:
- `fontSize: 11` -> Typography.tiny (same value but via token)
- `fontSize: 14` -> Typography.footnote (13) or keep if intentional
- `fontSize: 12` -> Typography.footnote or keep
- `gap: 6` -> Spacing.xs (4) or Spacing.sm (8)
- `paddingVertical: 6` -> Spacing.xs (4) or Spacing.sm (8)
- `paddingHorizontal: 10` -> Spacing.sm (8) or Spacing.md (12)
- `width: 22, height: 22` -> Keep as intentional icon container size

3. Ensure design token imports are complete:
```typescript
import { Colors, Typography, Spacing, Radius, Shadows } from '@/constants/theme';
```

**AnswerCard.tsx:**

1. Read the current implementation
2. Replace hardcoded values per RESEARCH.md:
- `borderLeftWidth: 5` -> Keep as intentional feedback indicator
- `height: 58` -> Keep as intentional button height
- `borderRadius: 14` -> Radius.md (12) or Radius.lg (16)
- `fontSize: 17` -> Typography.label (same value but via token)

3. Consider applying subtle hard border to answer cards:
- This is the quiz gameplay area where users tap frequently
- Soft borders may be intentional for less visual noise during gameplay
- Use judgment: If current styling works well during quiz, keep it. If not, apply light hard border.

Note: Don't over-engineer. Quiz UX was refined in Phase 16. Only fix clear hardcoded value violations, don't redesign the answer card styling if it works well.
  </action>
  <verify>
Start a quiz and confirm:
1. FindingsCard displays symptoms correctly
2. AnswerCard buttons are tappable and show feedback colors
3. Visual hierarchy is maintained (symptoms prominent, answers clear)
4. No visual regressions from Phase 16 improvements
  </verify>
  <done>Quiz components use design tokens consistently</done>
</task>

</tasks>

<verification>
- [ ] TriadCard has hard border treatment (borderBottomWidth visible)
- [ ] No hardcoded hex colors in library components (except CATEGORY_COLORS)
- [ ] No hardcoded fontSize in quiz components (using Typography spread)
- [ ] No hardcoded spacing in quiz components (using Spacing tokens)
- [ ] No TypeScript errors: `cd medtriad && npx tsc --noEmit`
- [ ] Library tab renders correctly
- [ ] Quiz gameplay functions correctly
</verification>

<success_criteria>
1. TriadCard uses hard border treatment consistent with other cards
2. SearchBar and FilterChips use design tokens throughout
3. FindingsCard and AnswerCard use Typography and Spacing tokens
4. Quiz gameplay UX from Phase 16 is preserved
5. Visual consistency across library and quiz screens
</success_criteria>

<output>
After completion, create `.planning/phases/17-design-system-audit/17-03-SUMMARY.md`
</output>
