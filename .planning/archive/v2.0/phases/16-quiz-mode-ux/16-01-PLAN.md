---
phase: 16-quiz-mode-ux
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - medtriad/components/quiz/FindingsCard.tsx
  - medtriad/components/quiz/AnswerCard.tsx
  - medtriad/app/quiz/index.tsx
autonomous: true

must_haves:
  truths:
    - "Symptoms card has distinct background from white page background"
    - "'IDENTIFY THE TRIAD' label appears above symptoms card"
    - "Answer buttons show green/red fill without checkmark/X icons"
    - "No 'Correct!'/'Incorrect!' text appears at bottom of quiz screen"
    - "Incorrect answers trigger subtle horizontal shake animation"
    - "All quiz content fits on screen without scrolling"
  artifacts:
    - path: "medtriad/components/quiz/FindingsCard.tsx"
      provides: "Symptoms card with background contrast"
      contains: "backgroundSecondary"
    - path: "medtriad/components/quiz/AnswerCard.tsx"
      provides: "Answer buttons with color-only feedback"
      contains: "withSpring.*shake"
    - path: "medtriad/app/quiz/index.tsx"
      provides: "Quiz layout with label, no feedback text"
      contains: "IDENTIFY THE TRIAD"
  key_links:
    - from: "medtriad/app/quiz/index.tsx"
      to: "medtriad/components/quiz/FindingsCard.tsx"
      via: "FindingsCard component import"
      pattern: "import.*FindingsCard"
---

<objective>
Improve quiz screen visual hierarchy and remove distracting text feedback

Purpose: Create cleaner, more focused quiz experience where symptoms are visually distinct from answers, and feedback is purely visual (color/animation) rather than text-based.

Output: Updated quiz screen with elevated symptoms card, "IDENTIFY THE TRIAD" label, color-only answer feedback, and no-scroll layout.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-quiz-mode-ux/16-CONTEXT.md
@.planning/phases/16-quiz-mode-ux/16-RESEARCH.md
@medtriad/app/quiz/index.tsx
@medtriad/components/quiz/AnswerCard.tsx
@medtriad/components/quiz/FindingsCard.tsx
@medtriad/constants/theme.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update visual hierarchy components</name>
  <files>
    medtriad/components/quiz/FindingsCard.tsx
    medtriad/components/quiz/AnswerCard.tsx
    medtriad/app/quiz/index.tsx
  </files>
  <action>
**FindingsCard.tsx:**
- Change backgroundColor from `colors.backgroundCard` to `colors.backgroundSecondary` (#F8F9FA)
- Remove borderWidth and borderColor from card style
- Remove shadow spread (remove `...shadow` from style)
- Keep borderRadius and padding unchanged

**AnswerCard.tsx:**
- Remove `getIcon` function entirely (lines 130-139)
- Remove `const icon = getIcon();` line
- Remove the icon JSX block (lines 169-177: the `{icon && ...}` block)
- Remove `iconContainer` from styles
- Remove IconSymbol import (no longer needed in this file)
- Keep all color-based feedback logic (getBackgroundColor, getBorderColor, getTextColor)

**quiz/index.tsx:**
- Add "IDENTIFY THE TRIAD" label above FindingsCard in the questionSection:
  ```tsx
  <View style={styles.questionSection}>
    <Text style={[styles.identifyLabel, { color: colors.textMuted }]}>
      IDENTIFY THE TRIAD
    </Text>
    <FindingsCard ... />
  </View>
  ```
- Add identifyLabel style:
  ```tsx
  identifyLabel: {
    ...Typography.tiny,
    textTransform: 'uppercase',
    letterSpacing: 1.5,
    textAlign: 'center',
    marginBottom: Spacing.sm,
  },
  ```
- Update questionSection style to add gap: Spacing.sm (or use marginBottom on label)
  </action>
  <verify>
Run `npx expo start` and navigate to quiz:
- FindingsCard has subtle gray background (#F8F9FA), no border/shadow
- "IDENTIFY THE TRIAD" text visible in small caps above symptoms
- App compiles without errors
  </verify>
  <done>
- FindingsCard uses backgroundSecondary with no border/shadow
- "IDENTIFY THE TRIAD" label visible above symptoms in small caps, muted color
- AnswerCard has no icon imports or rendering logic
  </done>
</task>

<task type="auto">
  <name>Task 2: Refine feedback system and layout</name>
  <files>
    medtriad/components/quiz/AnswerCard.tsx
    medtriad/app/quiz/index.tsx
  </files>
  <action>
**quiz/index.tsx:**
- Remove feedbackText state: delete `const [feedbackText, setFeedbackText] = useState<string | null>(null);`
- Remove all setFeedbackText calls:
  - In timeout effect: remove `setFeedbackText("Time's up!");` (line ~78)
  - In NEXT_QUESTION branch: remove `setFeedbackText(null);` (line ~126)
  - In handleAnswerSelect: remove `setFeedbackText('Correct!');` (line ~159)
  - In handleAnswerSelect: remove `setFeedbackText(...correctOption...);` (line ~164)
- Remove feedbackText JSX block entirely (lines 273-290, the whole `{feedbackText && ...}` section)
- Remove feedbackContainer and feedbackText styles
- Update ANSWER_DELAY from 1500 to 1200 (per CONTEXT.md decision)

**AnswerCard.tsx - Refine shake animation:**
Replace the timing-based shake (lines 50-56):
```tsx
// OLD (timing-based):
shakeX.value = withSequence(
  withTiming(-8, { duration: 50 }),
  withTiming(8, { duration: 50 }),
  withTiming(-6, { duration: 50 }),
  withTiming(6, { duration: 50 }),
  withTiming(0, { duration: 50 })
);

// NEW (spring-based, subtle):
shakeX.value = withSequence(
  withSpring(-5, { damping: 3, stiffness: 500 }),
  withSpring(5, { damping: 3, stiffness: 500 }),
  withSpring(-3, { damping: 5, stiffness: 500 }),
  withSpring(0, { damping: 10, stiffness: 300 })
);
```
- This gives 2-3 oscillations that feel physical, not mechanical
- Remove withTiming import if no longer used (check other uses first)
  </action>
  <verify>
Run `npx expo start` and play a quiz:
1. Answer incorrectly - button shakes subtly (physical spring feel, 2-3 oscillations)
2. No "Correct!" or "Incorrect!" text appears anywhere
3. Auto-advance happens after ~1.2 seconds
4. Correct answer shows green fill only
5. Wrong answer shows red fill + shake, then correct answer reveals in green
6. All content fits on screen without scrolling (test on smaller simulator like iPhone SE)
  </verify>
  <done>
- feedbackText state and all related code removed from quiz/index.tsx
- ANSWER_DELAY is 1200ms
- AnswerCard shake uses spring-based animation (subtle, 2-3 oscillations)
- No text feedback appears during quiz - only visual color changes and shake
  </done>
</task>

</tasks>

<verification>
After both tasks:
1. `npx expo start` - app runs without errors
2. Quiz visual hierarchy: symptoms card clearly distinct (gray bg) from white page
3. "IDENTIFY THE TRIAD" label visible in small caps above symptoms
4. Answer feedback: correct = green fill only, incorrect = red fill + shake
5. No text feedback at bottom of screen
6. Shake animation feels natural (spring physics, not linear timing)
7. Auto-advance delay is 1.2 seconds
8. All content fits on screen without scrolling on iPhone SE simulator
</verification>

<success_criteria>
- QUIZ-01: Symptoms card visually elevated (backgroundSecondary, no border/shadow)
- QUIZ-02: "IDENTIFY THE TRIAD" label above symptoms (small caps, muted color)
- QUIZ-03: "Correct!"/"Incorrect!" text feedback removed
- QUIZ-04: Answer feedback via button color only (green/red fill, no icons)
- QUIZ-05: All content fits on screen without scrolling
- Shake animation uses spring physics (physical feel, 2-3 oscillations)
- Auto-advance delay is 1.2 seconds
</success_criteria>

<output>
After completion, create `.planning/phases/16-quiz-mode-ux/16-01-SUMMARY.md`
</output>
