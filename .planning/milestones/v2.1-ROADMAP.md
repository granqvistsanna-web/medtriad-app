# Milestone v2.1: Design System, Study Mode & App Store

**Status:** SHIPPED 2026-01-21
**Phases:** 21-26
**Total Plans:** 18

## Overview

Establish a consistent design system, add a relaxed Study Mode for learning, enable social sharing via Challenge, track category mastery, and prepare for App Store submission.

## Phases

### Phase 21: Design System Foundation

**Goal:** Establish the token-based design system with reusable primitives that all future UI work builds upon.

**Depends on:** v2.0 complete

**Requirements:**
- DS-01: Token file with colors, typography, spacing, radius, shadows, motion values
- DS-02: Theme layer mapping semantic tokens
- DS-03: Icon wrapper component using Solar Icons
- DS-04: Text primitive component
- DS-05: Surface primitive component
- DS-06: Button component with all states
- DS-07: Badge component
- DS-08: Tag component
- DS-09: Card component

**Plans:** 4 plans

- [x] 21-01-PLAN.md - Install dependencies and create three-layer token system
- [x] 21-02-PLAN.md - Font loading, Icon wrapper, Surface primitive
- [x] 21-03-PLAN.md - Text primitive and Button with loading state
- [x] 21-04-PLAN.md - Badge, Tag, and Card primitives

**Completed:** 2026-01-20

---

### Phase 22: Design System Application

**Goal:** Migrate all existing screens and icons to use the new design system, ensuring visual consistency across the app.

**Depends on:** Phase 21

**Requirements:**
- DS-10: All existing screens updated to use design tokens only
- DS-11: All existing icons replaced with Solar Icons via wrapper
- DS-12: DESIGN_SYSTEM.md documentation

**Plans:** 5 plans

- [x] 22-01-PLAN.md - Add missing tokens and migrate tab bar icons to Solar Icons
- [x] 22-02-PLAN.md - Migrate simple screens (Settings, Onboarding, Modal)
- [x] 22-03-PLAN.md - Migrate medium screens (Home, Library, Progress)
- [x] 22-04-PLAN.md - Migrate complex screen (Quiz and Results)
- [x] 22-05-PLAN.md - DESIGN_SYSTEM.md documentation and cleanup

**Completed:** 2026-01-20

---

### Phase 23: Study Mode

**Goal:** Users can practice medical triads in a relaxed, untimed mode with explanations and the ability to flag tricky questions.

**Depends on:** Phase 22

**Requirements:**
- SM-01: Study Mode entry point visible on Home screen
- SM-02: Untimed quiz flow with no countdown timer
- SM-03: Calm visual tone distinguishing from timed mode
- SM-04: Immediate feedback with explanation shown after each answer
- SM-05: Progress indicator showing questions completed
- SM-06: "Mark as tricky" button to flag questions for review
- SM-07: Per-topic session summary stored locally
- SM-08: Tricky questions list accessible from Library or Progress

**Plans:** 3 plans

- [x] 23-01-PLAN.md - Types, reducer, and storage service foundation
- [x] 23-02-PLAN.md - Study screen and components (ExplanationCard, TrickyButton, StudyHeader)
- [x] 23-03-PLAN.md - Results screen, tricky list, and entry point wiring

**Completed:** 2026-01-20

---

### Phase 24: Category Mastery

**Goal:** Users can see their progress per medical category, helping them identify strengths and weaknesses.

**Depends on:** Phase 22

**Requirements:**
- CM-01: Track correct/incorrect answers per medical category
- CM-02: Category mastery data persisted locally
- CM-03: Category mastery cards displayed on Home screen
- CM-04: Visual progress indicator per category

**Plans:** 2 plans

- [x] 24-01-PLAN.md - Add categoryMastery to stats storage and useStats hook
- [x] 24-02-PLAN.md - Track categories in quiz and connect Home screen to real data

**Completed:** 2026-01-20

---

### Phase 25: Challenge

**Goal:** Users can challenge friends by sharing their quiz results with a styled share card.

**Depends on:** Phase 22

**Requirements:**
- CH-01: "Challenge a Friend" button on Results screen
- CH-02: Styled share card showing score with competitive messaging
- CH-03: System share sheet integration

**Plans:** 1 plan

- [x] 25-01-PLAN.md - Add competitive messaging to ShareCard and Challenge button to Results

**Completed:** 2026-01-20

---

### Phase 26: App Store Preparation

**Goal:** All assets, metadata, and documentation are ready for App Store submission.

**Depends on:** Phases 21-25

**Requirements:**
- AS-01: App icon at all required sizes
- AS-02: Screenshots for required iPhone device sizes
- AS-03: Privacy policy URL prepared
- AS-04: App Privacy questionnaire answers documented
- AS-05: App Store description and keywords finalized
- AS-06: Category and age rating determined
- AS-07: Bundle ID and versioning finalized
- AS-08: Release checklist completed
- AS-09: PRIVACY_SUMMARY.md documenting data practices
- AS-10: SCREENSHOT_PLAN.md listing screens and device sizes

**Plans:** 3 plans

- [x] 26-01-PLAN.md - Configure app.json and eas.json for App Store submission
- [x] 26-02-PLAN.md - Create PRIVACY_SUMMARY.md and APP_STORE_METADATA.md
- [x] 26-03-PLAN.md - Add Privacy Policy link, SCREENSHOT_PLAN.md, and RELEASE_CHECKLIST.md

**Completed:** 2026-01-21

---

## Milestone Summary

**Key Decisions:**

- Three-layer token architecture: raw tokens -> semantic theme -> components
- 7 UI primitives: Icon, Text, Surface, Button, Badge, Tag, Card
- Badge has 3D depth, Tag is flat (visual hierarchy distinction)
- Study Mode uses blue theme colors for calm aesthetic
- Category mastery tracks correct/total counts per medical category
- Challenge uses score-based competitive messaging (5 tiers)
- Privacy label: Data Not Collected (no analytics, local storage only)
- Primary category: Medical, Secondary: Education

**Issues Resolved:**

- All screens migrated from hardcoded colors to design tokens
- Legacy ui/Button.tsx removed (replaced by primitives/Button)
- Solar Icons unified iconography throughout app
- App Store configuration complete (app.json, eas.json)

**Issues Deferred:**

- Deep link challenge URLs (requires app live on App Store)
- Adaptive difficulty algorithm (v3.0)
- Spaced repetition system (v3.0)

**Technical Debt Incurred:**

- Legacy components (StatRow, CategorySection, TriadItem, collapsible) still use Colors.light (unused in active screens)
- QuizHistoryList, TierSection, TierBadge still use Colors.light (active but lower priority)
- Pre-existing FlashList prop type error in library.tsx

---

_For current project status, see .planning/ROADMAP.md (next milestone)_

---
*Archived: 2026-01-21 as part of v2.1 milestone completion*
