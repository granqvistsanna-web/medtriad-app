---
phase: 22-design-system-application
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - medtriad/constants/tokens/colors.ts
  - medtriad/app/(tabs)/_layout.tsx
autonomous: true

must_haves:
  truths:
    - "Tab bar icons display Solar Icons (not SF Symbols)"
    - "Focused tabs show Bold variant, unfocused show Linear variant"
    - "success.darker and danger.darker tokens exist in palette"
  artifacts:
    - path: "medtriad/constants/tokens/colors.ts"
      provides: "Missing semantic tokens for 3D depth"
      contains: "darker"
    - path: "medtriad/app/(tabs)/_layout.tsx"
      provides: "Tab bar with Solar Icons"
      contains: "@solar-icons/react-native"
  key_links:
    - from: "medtriad/app/(tabs)/_layout.tsx"
      to: "@solar-icons/react-native"
      via: "direct import of Bold/Linear variants"
      pattern: "import.*@solar-icons/react-native"
---

<objective>
Add missing design tokens and migrate tab bar icons to Solar Icons.

Purpose: Establish foundation tokens needed for migration and convert the most visible icons (tab bar) to the new system.

Output: Updated color palette with success/danger darker variants, tab bar using Solar Icons with Bold (focused) and Linear (unfocused) variants.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-design-system-application/22-RESEARCH.md
@medtriad/constants/tokens/colors.ts
@medtriad/app/(tabs)/_layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add missing color tokens for 3D depth</name>
  <files>medtriad/constants/tokens/colors.ts</files>
  <action>
Add darker variants to success and error families in the palette:

In the success family, add:
- 700: '#16A34A' (darker green for correct answer 3D depth)

In the error family, add:
- 700: '#DC2626' (darker red for incorrect answer 3D depth)

Also update theme.ts to expose these as semantic tokens:
- theme.colors.success.darker -> palette.success[700]
- theme.colors.danger.darker -> palette.error[700]

These are needed for AnswerCard migration where correct/incorrect states need darker bottom borders.
  </action>
  <verify>
TypeScript compiles without errors:
```
cd medtriad && npx tsc --noEmit
```
Verify tokens exist:
```
grep -n "700.*#16A34A" medtriad/constants/tokens/colors.ts
grep -n "700.*#DC2626" medtriad/constants/tokens/colors.ts
```
  </verify>
  <done>
palette.success[700] = '#16A34A' exists
palette.error[700] = '#DC2626' exists
theme.colors.success.darker and theme.colors.danger.darker are accessible
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate tab bar icons to Solar Icons</name>
  <files>medtriad/app/(tabs)/_layout.tsx</files>
  <action>
Replace IconSymbol with raw Solar Icons for the tab bar. Tab bar is a special case where we use Solar Icons directly (not the Icon primitive) because Expo Router passes color prop directly.

Import Solar Icons (Bold for focused, Linear for unfocused):
```typescript
import { Home, Home2 } from '@solar-icons/react-native';
import { Book, BookMinimalistic } from '@solar-icons/react-native';
import { ChartSquare } from '@solar-icons/react-native';
import { Settings } from '@solar-icons/react-native';
```

Note: Import Bold variants as default name, Linear variants with "2" or "Minimalistic" suffix.

For each tab, replace IconSymbol with the appropriate Solar Icon:
- Home: `focused ? <Home size={28} color={color} /> : <Home2 size={28} color={color} />`
- Library: `focused ? <Book size={28} color={color} /> : <BookMinimalistic size={28} color={color} />`
- Progress: `<ChartSquare size={28} color={color} />` (same for both states - no distinct linear version)
- Settings: `<Settings size={28} color={color} />` (same for both states)

Remove the IconSymbol import since it's no longer used here.

Update Colors import to use theme semantic tokens for tint colors:
- tabBarActiveTintColor: theme.colors.brand.primary
- tabBarInactiveTintColor: theme.colors.icon.muted
- backgroundColor: theme.colors.surface.primary
- borderTopColor: theme.colors.border.default
  </action>
  <verify>
Run the app and verify:
```
cd medtriad && npx expo start
```
Visually confirm:
1. All four tab icons display correctly
2. Focused tabs show filled/bold icons
3. Unfocused tabs show outline/linear icons
4. Colors match the brand (wine when selected, gray when not)
  </verify>
  <done>
Tab bar displays Solar Icons instead of SF Symbols
Focused state shows Bold variants, unfocused shows Linear variants
No IconSymbol import in _layout.tsx
App runs without errors
  </done>
</task>

</tasks>

<verification>
- [ ] TypeScript compiles: `cd medtriad && npx tsc --noEmit`
- [ ] App starts: `cd medtriad && npx expo start`
- [ ] Tab bar icons are Solar Icons (visually distinct from SF Symbols)
- [ ] Color tokens palette.success[700] and palette.error[700] exist
</verification>

<success_criteria>
- Tab bar uses Solar Icons (Home, Book, ChartSquare, Settings)
- Bold/Linear variants toggle based on focused state
- success.darker and danger.darker tokens available in theme
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/22-design-system-application/22-01-SUMMARY.md`
</output>
