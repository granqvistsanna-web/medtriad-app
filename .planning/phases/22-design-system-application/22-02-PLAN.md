---
phase: 22-design-system-application
plan: 02
type: execute
wave: 2
depends_on: ["22-01"]
files_modified:
  - medtriad/app/(tabs)/settings.tsx
  - medtriad/components/settings/SettingsRow.tsx
  - medtriad/components/settings/ToggleRow.tsx
  - medtriad/app/onboarding.tsx
  - medtriad/components/onboarding/PaginationDots.tsx
  - medtriad/app/modal.tsx
autonomous: true

must_haves:
  truths:
    - "Settings screen uses Text primitive for all text"
    - "Settings icons are Solar Icons via Icon primitive"
    - "Onboarding uses Text primitive and primitives/Button"
    - "No hardcoded colors in simple screens"
  artifacts:
    - path: "medtriad/app/(tabs)/settings.tsx"
      provides: "Settings screen with design system"
      contains: "import { Text } from '@/components/primitives'"
    - path: "medtriad/components/settings/SettingsRow.tsx"
      provides: "Settings row with Icon primitive"
      contains: "@solar-icons/react-native"
    - path: "medtriad/app/onboarding.tsx"
      provides: "Onboarding with primitives"
      contains: "import { Text, Button } from '@/components/primitives'"
  key_links:
    - from: "medtriad/app/(tabs)/settings.tsx"
      to: "@/components/primitives"
      via: "Text import"
      pattern: "import.*Text.*from.*primitives"
    - from: "medtriad/components/settings/SettingsRow.tsx"
      to: "@/components/primitives"
      via: "Icon import"
      pattern: "import.*Icon.*from.*primitives"
---

<objective>
Migrate simple screens (Settings, Onboarding, Modal) to use design system primitives.

Purpose: Establish migration patterns on low-complexity screens before tackling complex ones. These screens have minimal state and simple layouts.

Output: Settings, Onboarding, and Modal screens using Text primitive, Icon primitive with Solar Icons, and primitives/Button.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-design-system-application/22-RESEARCH.md
@medtriad/app/(tabs)/settings.tsx
@medtriad/components/settings/SettingsRow.tsx
@medtriad/components/settings/ToggleRow.tsx
@medtriad/app/onboarding.tsx
@medtriad/app/modal.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Settings screen and components</name>
  <files>
medtriad/app/(tabs)/settings.tsx
medtriad/components/settings/SettingsRow.tsx
medtriad/components/settings/ToggleRow.tsx
  </files>
  <action>
**SettingsRow.tsx:**
1. Replace `import { Text } from 'react-native'` with `import { Text, Icon } from '@/components/primitives'`
2. Import Solar Icons for the icons used:
   - `Share` from '@solar-icons/react-native/bold' (for square.and.arrow.up)
   - `TrashBin` from '@solar-icons/react-native/bold' (for trash)
   - `AltArrowRight` from '@solar-icons/react-native/bold' (for chevron.right)
3. Replace IconSymbol with Icon primitive:
   ```tsx
   <Icon icon={iconComponent} size="md" color={iconColor} />
   ```
4. Replace Text elements with Text primitive:
   ```tsx
   <Text variant="body" color={destructive ? 'danger' : 'primary'}>{label}</Text>
   ```
5. Update icon prop type from SymbolViewProps['name'] to accept Solar Icon component
6. Create a mapping inside the component or accept icon as component prop
7. Use theme semantic colors instead of Colors.light

**ToggleRow.tsx:**
1. Replace `import { Text } from 'react-native'` with `import { Text } from '@/components/primitives'`
2. Replace Text elements with Text primitive using variant="body"
3. Use theme semantic colors instead of Colors.light

**settings.tsx:**
1. Replace `import { Text } from 'react-native'` with `import { Text } from '@/components/primitives'`
2. Replace all Text elements with Text primitive:
   - Title: `<Text variant="title">`
   - Section headers: `<Text variant="tiny" color="muted">`
   - About label: `<Text variant="body">`
   - About value: `<Text variant="caption" color="secondary">`
3. Replace Colors.light with theme imports:
   - `import { theme } from '@/constants/theme'`
   - backgroundColor: theme.colors.surface.primary
   - backgroundCard: theme.colors.surface.card
   - border: theme.colors.border.default
4. Keep Typography import only for styles that need spread syntax (can migrate later)
  </action>
  <verify>
TypeScript compiles:
```
cd medtriad && npx tsc --noEmit
```
Run app and navigate to Settings tab:
```
cd medtriad && npx expo start
```
Verify:
1. Settings title renders correctly
2. Section headers (PREFERENCES, ACTIONS, ABOUT) display
3. Toggle rows function
4. Settings rows with icons display correctly
5. Share and Reset actions work
  </verify>
  <done>
Settings screen uses Text primitive for all text content
SettingsRow uses Icon primitive with Solar Icons
ToggleRow uses Text primitive
No IconSymbol imports in settings components
No hardcoded color values
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate Onboarding screen</name>
  <files>
medtriad/app/onboarding.tsx
medtriad/components/onboarding/PaginationDots.tsx
  </files>
  <action>
**onboarding.tsx:**
1. Replace `import { Button } from '@/components/ui/Button'` with `import { Button, Text } from '@/components/primitives'`
2. Replace `import { Text } from 'react-native'` - remove, using primitives
3. Replace all Text elements with Text primitive:
   - Page title: `<Text variant="title" align="center">{item.title}</Text>`
   - Subtitle: `<Text variant="body" color="secondary" align="center">{item.subtitle}</Text>`
   - Skip button text: `<Text variant="label" color="secondary">Skip</Text>`
4. Update Button usage:
   - The primitives/Button accepts `icon` as a Solar Icon component, not string
   - Import Play from '@solar-icons/react-native/bold'
   - `<Button label="Get Started" icon={Play} onPress={handleGetStarted} />`
5. Replace Colors.light with theme:
   - `import { theme } from '@/constants/theme'`
   - background: theme.colors.surface.primary
   - text: handled by Text primitive color prop
   - textSecondary: handled by Text primitive color="secondary"

**PaginationDots.tsx:**
1. Replace Colors.light.primary with theme.colors.brand.primary
2. Keep the SVG/animation logic as-is (just update color references)
  </action>
  <verify>
TypeScript compiles:
```
cd medtriad && npx tsc --noEmit
```
Test onboarding flow (may need to clear AsyncStorage to see it):
1. Page titles display correctly
2. Subtitles are secondary color
3. Skip button works
4. Get Started button on last page works with Play icon
5. Pagination dots animate correctly
  </verify>
  <done>
Onboarding uses Text primitive for all text
Button uses primitives/Button with Solar Icon
No ui/Button import
No hardcoded colors
PaginationDots uses theme colors
  </done>
</task>

<task type="auto">
  <name>Task 3: Migrate Modal screen</name>
  <files>medtriad/app/modal.tsx</files>
  <action>
Check current modal.tsx implementation. If it contains:
1. Text from react-native -> replace with Text primitive
2. IconSymbol -> replace with Icon primitive + Solar Icon
3. Colors.light -> replace with theme semantic colors
4. Typography -> keep if used for StyleSheet, but prefer Text primitive variant prop

The modal screen is typically minimal (may just be a placeholder or simple info screen).
Apply the same patterns as Settings and Onboarding.
  </action>
  <verify>
TypeScript compiles:
```
cd medtriad && npx tsc --noEmit
```
Navigate to modal if accessible in app flow.
Verify text renders correctly with no visual regressions.
  </verify>
  <done>
Modal screen uses design system primitives
No hardcoded colors
No react-native Text imports (uses primitives)
  </done>
</task>

</tasks>

<verification>
- [ ] TypeScript compiles: `cd medtriad && npx tsc --noEmit`
- [ ] Settings screen renders correctly with all text and icons
- [ ] Onboarding flow works with primitives Button and Text
- [ ] Modal screen uses primitives
- [ ] No IconSymbol imports in migrated files
- [ ] No Colors.light usage in migrated files (uses theme instead)
</verification>

<success_criteria>
- All simple screens (Settings, Onboarding, Modal) use Text primitive
- Settings icons use Icon primitive with Solar Icons
- Onboarding Button uses primitives/Button with Play icon
- No hardcoded colors - all use theme semantic tokens
- App functions correctly with no visual regressions
</success_criteria>

<output>
After completion, create `.planning/phases/22-design-system-application/22-02-SUMMARY.md`
</output>
