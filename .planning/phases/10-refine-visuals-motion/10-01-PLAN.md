# Plan 10-01: Establish Easings System

## Frontmatter

```yaml
phase: 10
plan: 01
wave: 1
depends_on: []
files_modified:
  - medtriad/constants/theme.ts
autonomous: true
estimated_tasks: 3
requirements: [VISREF-03, VISREF-04]
```

## Objective

Create centralized spring configurations and easing presets in theme.ts to establish a consistent motion language across the app. All subsequent motion work will use these standardized presets instead of inline magic numbers.

**Design Philosophy:** Motion should feel soft, weighted, and physical. Nothing snaps — everything settles. Springs over timing where possible.

## Context

Currently each component defines its own spring configs inline:
- Button.tsx: `{ damping: 15, stiffness: 400 }`
- AnswerCard.tsx: `{ damping: 12, stiffness: 300 }`
- TriMascot.tsx: `{ damping: 12, stiffness: 100 }`

This creates inconsistent motion feel. By centralizing presets, we establish:
1. Consistent animation language
2. Easy tuning in one place
3. Semantic naming for intent

## Tasks

<task id="1">
<title>Add Easings constant to theme.ts</title>
<intent>Provide named spring presets for different motion intents</intent>
<instructions>
In theme.ts, after the Durations constant, add:

```typescript
import { Easing } from 'react-native-reanimated';

// Spring presets for react-native-reanimated
export const Easings = {
  // Standard press/release — snappy, controlled
  press: { damping: 15, stiffness: 400 },

  // Bouncy reveals — playful overshoot
  bouncy: { damping: 10, stiffness: 300 },

  // Gentle settles — slow, weighty landing
  gentle: { damping: 20, stiffness: 150 },

  // Pop effects — fast initial, slow settle
  pop: { damping: 8, stiffness: 400 },

  // Timing easings (for opacity, color)
  easeOut: Easing.out(Easing.cubic),
  easeInOut: Easing.inOut(Easing.cubic),
  easeOutBack: Easing.bezier(0.34, 1.56, 0.64, 1),
} as const;
```

Note: The `Easing` import from reanimated is needed for timing-based easings.
</instructions>
<verification>
- [ ] Easings constant exported from theme.ts
- [ ] Contains press, bouncy, gentle, pop spring configs
- [ ] Contains easeOut, easeInOut, easeOutBack timing easings
- [ ] No TypeScript errors
</verification>
</task>

<task id="2">
<title>Extend Durations constant</title>
<intent>Add duration presets for longer animations like count-ups and celebrations</intent>
<instructions>
Update the existing Durations constant:

```typescript
export const Durations = {
  fast: 150,
  normal: 300,
  slow: 500,
  slower: 800,      // Score count-ups, tier celebrations
  stagger: 50,
  staggerMedium: 80, // Celebratory reveals
} as const;
```
</instructions>
<verification>
- [ ] Durations includes `slower: 800`
- [ ] Durations includes `staggerMedium: 80`
- [ ] No TypeScript errors
</verification>
</task>

<task id="3">
<title>Verify exports work</title>
<intent>Ensure theme.ts compiles and exports are accessible</intent>
<instructions>
Run TypeScript check on theme.ts:
```bash
npx tsc --noEmit medtriad/constants/theme.ts
```

If errors occur with the Easing import, the import statement may need adjustment based on the project's reanimated setup.
</instructions>
<verification>
- [ ] No TypeScript compilation errors
- [ ] Easings and Durations accessible via import
</verification>
</task>

## Verification Criteria

- [ ] `Easings` constant exists with spring presets: press, bouncy, gentle, pop
- [ ] `Easings` constant includes timing easings: easeOut, easeInOut, easeOutBack
- [ ] `Durations` extended with `slower` and `staggerMedium`
- [ ] theme.ts compiles without errors
- [ ] No runtime errors when app starts

## Must-Haves (Goal-Backward)

For Phase 10 "Refine Visuals & Motion" to succeed:
- [ ] Centralized motion config exists for subsequent plans to use
- [ ] Spring presets cover the range: snappy → bouncy → gentle
- [ ] Timing easings available for opacity/color transitions

## Rollback

If issues occur:
1. Remove the Easings constant
2. Revert Durations to original values
3. Subsequent plans will use inline configs (less ideal but functional)
