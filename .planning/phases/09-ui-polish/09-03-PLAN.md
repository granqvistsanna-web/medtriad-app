---
phase: 09-ui-polish
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - medtriad/app/(tabs)/settings.tsx
autonomous: true

must_haves:
  truths:
    - "Settings screen has Spacing.lg (24px) horizontal padding"
    - "Section headers use decorative line pattern like Home"
    - "Sections animate in with FadeInUp stagger"
  artifacts:
    - path: "medtriad/app/(tabs)/settings.tsx"
      provides: "Settings screen with Home-consistent layout and section headers"
      contains: "paddingHorizontal: Spacing.lg"
  key_links:
    - from: "medtriad/app/(tabs)/settings.tsx"
      to: "medtriad/constants/theme.ts"
      via: "Uses Spacing.lg and Typography.tiny for header pattern"
      pattern: "Spacing\\.lg"
---

<objective>
Polish Settings screen to match Home screen's visual language.

Purpose: Ensure Settings screen uses same spacing and section header styling as Home (UIPOL-03)
Output: Settings screen with consistent padding, section headers with decorative lines, and entry animations
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/09-ui-polish/09-RESEARCH.md

@medtriad/app/(tabs)/settings.tsx
@medtriad/app/(tabs)/index.tsx (reference - Home screen patterns)
@medtriad/components/home/StatsGrid.tsx (reference - section header pattern)
@medtriad/constants/theme.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Settings screen layout to match Home</name>
  <files>medtriad/app/(tabs)/settings.tsx</files>
  <action>
Update Settings screen layout to match Home patterns:

1. Change content padding:
   - `paddingHorizontal: Spacing.base` -> `paddingHorizontal: Spacing.lg`
   - Add `paddingTop: Spacing.md`
   - Keep `paddingBottom: Spacing.xxl`

2. Update title styling:
   - Remove `marginTop: Spacing.lg` (container padding handles this)
   - Keep `marginBottom: Spacing.lg` for space before first section

3. Import Animated, FadeInUp from react-native-reanimated
4. Import Durations from theme
  </action>
  <verify>
Run the app, navigate to Settings tab:
- Horizontal padding is wider (24px)
- Title has consistent top spacing
  </verify>
  <done>Settings screen uses Spacing.lg horizontal padding and Spacing.md top padding</done>
</task>

<task type="auto">
  <name>Task 2: Update section headers with decorative line pattern</name>
  <files>medtriad/app/(tabs)/settings.tsx</files>
  <action>
Update Settings section headers to match Home's pattern:

1. Replace each section header Text with the pattern:
   ```tsx
   <View style={styles.sectionHeaderRow}>
     <Text style={[styles.sectionHeaderText, { color: colors.textMuted }]}>
       PREFERENCES
     </Text>
     <View style={[styles.sectionHeaderLine, { backgroundColor: colors.border }]} />
   </View>
   ```

2. Update all three section headers: PREFERENCES, ACTIONS, ABOUT

3. Remove old sectionHeader style

4. Add new styles:
   ```typescript
   sectionHeaderRow: {
     flexDirection: 'row',
     alignItems: 'center',
     gap: Spacing.md,
     marginTop: Spacing.lg,
     marginBottom: Spacing.sm,
   },
   sectionHeaderText: {
     ...Typography.tiny,
     letterSpacing: 1,
   },
   sectionHeaderLine: {
     flex: 1,
     height: 1,
   },
   ```

Note: First section header should NOT have marginTop since it follows the title. Either:
- Remove marginTop from first usage, OR
- Use marginTop: 0 for first section header inline
  </action>
  <verify>
Run the app, navigate to Settings tab:
- All section headers (PREFERENCES, ACTIONS, ABOUT) have decorative line
- Headers match Home's "YOUR PROGRESS" style exactly
- Spacing between sections looks consistent
  </verify>
  <done>Settings section headers use "TEXT + decorative line" pattern like Home</done>
</task>

<task type="auto">
  <name>Task 3: Add entry animations to Settings sections</name>
  <files>medtriad/app/(tabs)/settings.tsx</files>
  <action>
Add FadeInUp entry animations to Settings sections:

1. Wrap title in Animated.View:
   ```tsx
   <Animated.View entering={FadeInUp.duration(Durations.normal).springify()}>
     <Text style={[styles.title, { color: colors.text }]}>Settings</Text>
   </Animated.View>
   ```

2. Wrap each section (header + content) in Animated.View with staggered delay:
   ```tsx
   {/* PREFERENCES Section */}
   <Animated.View entering={FadeInUp.delay(Durations.stagger).duration(Durations.normal).springify()}>
     <View style={[styles.sectionHeaderRow, { marginTop: 0 }]}>...</View>
     <View style={[styles.section, ...]}}>...</View>
   </Animated.View>

   {/* ACTIONS Section */}
   <Animated.View entering={FadeInUp.delay(Durations.stagger * 2).duration(Durations.normal).springify()}>
     ...
   </Animated.View>

   {/* ABOUT Section */}
   <Animated.View entering={FadeInUp.delay(Durations.stagger * 3).duration(Durations.normal).springify()}>
     ...
   </Animated.View>
   ```

3. Import Animated from react-native-reanimated (add to existing import)
4. Import FadeInUp from react-native-reanimated
5. Import Durations from '@/constants/theme'
  </action>
  <verify>
Run the app, navigate to Settings tab:
- Title animates in first
- Each section animates in with staggered delay
- Animation is smooth (springify)
- All toggles and buttons still functional
  </verify>
  <done>Settings sections animate in with staggered FadeInUp on screen load</done>
</task>

</tasks>

<verification>
After completing all tasks:
1. Compare Settings and Home screen horizontal padding - should look identical
2. All section headers have decorative line (PREFERENCES, ACTIONS, ABOUT)
3. Entry animations work with visible stagger effect
4. All functionality preserved (toggles work, share works, reset works)
5. Run `npx expo start` - no TypeScript errors
</verification>

<success_criteria>
- Settings screen uses Spacing.lg (24px) horizontal padding
- Section headers use "TEXT + decorative line" pattern
- Content animates in with FadeInUp stagger
- All existing functionality unchanged
- UIPOL-03 requirement satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/09-ui-polish/09-03-SUMMARY.md`
</output>
